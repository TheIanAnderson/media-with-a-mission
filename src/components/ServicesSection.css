/* Services section â€” diagonal background + slope-aligned sweep */
.services-section {
  --slant: 2rem;              /* diagonal height at right edge */
  --sweep-gap: 3px;           /* visible strip of base color along the top */
  position: relative;
  overflow: hidden;
  color: var(--text);
  transition: color var(--transition);
}

.services-section > * {
  position: relative;
  z-index: 2;                 /* keep content above background layers */
}

/* Base diagonal background */
.services-section::before,
.services-section::after {
  content: "";
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
}

.services-section::before {
  background: var(--services-base);
  /* diagonal top edge */
  clip-path: polygon(0 0, 100% var(--slant), 100% 100%, 0 100%);
  z-index: 0;
}

/* Yellow sweep layer (matches diagonal, leaves small top strip) */
.services-section::after {
  background: var(--services-sweep);
  clip-path: polygon(
    0 var(--sweep-gap),
    100% calc(var(--slant) + var(--sweep-gap)),
    100% 100%,
    0 100%
  );
  /* start off-screen, offset along slope so motion tracks the diagonal */
  transform: translate(-101%, calc(-1 * var(--slant)));
  transform-origin: left top;
  transition: transform 100ms ease-in-out; /* faster, smooth in/out */
  z-index: 1;
}

/* Interaction states */
.services-section:hover,
.services-section:focus-within {
  color: var(--brand-ink);
}
.services-section:hover::after,
.services-section:focus-within::after {
  transform: translate(0, 0);
}

/* Reduced motion: no animation, show filled state */
@media (prefers-reduced-motion: reduce) {
  .services-section::after {
    transition: none;
    transform: none;
  }
}

/* Responsive slant */
@media (min-width: 768px) {
  .services-section { --slant: 3rem; }
}
@media (min-width: 1024px) {
  .services-section { --slant: 4rem; }
}
